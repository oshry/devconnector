{"ast":null,"code":"// Register User\nimport axios from 'axios'; // import {TEST_DISPATCH} from \"./types\";\n\nimport setAuthToken from '../utils/setAuthToken';\nimport { GET_ERRORS } from \"./types\";\nexport const registerUser = (userData, history) => dispatch => {\n  axios.post('/api/users/register', userData).then(res => history.push('/login')).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response.data\n  })); // console.log(newUser);\n  // return {\n  //     type: TEST_DISPATCH,\n  //     payload: userData\n  // }\n}; // Login\n\nexport const loginUser = userData => dispatch => {\n  axios.post('/api/users/login', userData).then(res => {\n    // Save to localStorage\n    const token = res.data.token; // Set token to localStorage\n\n    localStorage.setItem('jwtToken', token); // Set token to Auth header\n\n    setAuthToken(token);\n  }).catch(err => dispatch({\n    type: GET_ERRORS,\n    payload: err.response.data\n  }));\n};","map":{"version":3,"sources":["/Users/oshry/Projects/devconnector/client/src/actions/authActions.js"],"names":["axios","setAuthToken","GET_ERRORS","registerUser","userData","history","dispatch","post","then","res","push","catch","err","type","payload","response","data","loginUser","token","localStorage","setItem"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,SAAQC,UAAR,QAAyB,SAAzB;AAIA,OAAO,MAAMC,YAAY,GAAG,CAACC,QAAD,EAAWC,OAAX,KAAuBC,QAAQ,IAAI;AAC3DN,EAAAA,KAAK,CAACO,IAAN,CAAW,qBAAX,EAAkCH,QAAlC,EACKI,IADL,CACUC,GAAG,IAAIJ,OAAO,CAACK,IAAR,CAAa,QAAb,CADjB,EAEKC,KAFL,CAEWC,GAAG,IACNN,QAAQ,CAAC;AACLO,IAAAA,IAAI,EAAEX,UADD;AAELY,IAAAA,OAAO,EAAEF,GAAG,CAACG,QAAJ,CAAaC;AAFjB,GAAD,CAHhB,EAD2D,CAS3D;AACA;AACA;AACA;AACA;AACH,CAdM,C,CAeP;;AACA,OAAO,MAAMC,SAAS,GAAGb,QAAQ,IAAIE,QAAQ,IAAI;AAC7CN,EAAAA,KAAK,CAACO,IAAN,CAAW,kBAAX,EAA+BH,QAA/B,EACKI,IADL,CACUC,GAAG,IAAI;AACT;AADS,UAEDS,KAFC,GAEST,GAAG,CAACO,IAFb,CAEDE,KAFC,EAGT;;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCF,KAAjC,EAJS,CAKT;;AACAjB,IAAAA,YAAY,CAACiB,KAAD,CAAZ;AACH,GARL,EASKP,KATL,CASWC,GAAG,IACNN,QAAQ,CAAC;AACLO,IAAAA,IAAI,EAAEX,UADD;AAELY,IAAAA,OAAO,EAAEF,GAAG,CAACG,QAAJ,CAAaC;AAFjB,GAAD,CAVhB;AAeH,CAhBM","sourcesContent":["// Register User\nimport axios from 'axios';\n// import {TEST_DISPATCH} from \"./types\";\nimport setAuthToken from '../utils/setAuthToken'\nimport {GET_ERRORS} from \"./types\";\n\n\n\nexport const registerUser = (userData, history) => dispatch => {\n    axios.post('/api/users/register', userData)\n        .then(res => history.push('/login'))\n        .catch(err =>\n            dispatch({\n                type: GET_ERRORS,\n                payload: err.response.data\n            })\n        );\n    // console.log(newUser);\n    // return {\n    //     type: TEST_DISPATCH,\n    //     payload: userData\n    // }\n}\n// Login\nexport const loginUser = userData => dispatch => {\n    axios.post('/api/users/login', userData)\n        .then(res => {\n            // Save to localStorage\n            const { token } = res.data\n            // Set token to localStorage\n            localStorage.setItem('jwtToken', token);\n            // Set token to Auth header\n            setAuthToken(token);\n        })\n        .catch(err =>\n            dispatch({\n                type: GET_ERRORS,\n                payload: err.response.data\n            })\n        );\n}\n"]},"metadata":{},"sourceType":"module"}